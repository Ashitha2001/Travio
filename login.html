<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="login.css">
    <link href="https://fonts.googleapis.com/css2?family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
</head>

<body>
    <nav>
        <div class="nav-logo"><a href="index.html">Travio.com</a></div>
        <ul class="nav__item">
            <li class="nav-item"><a href="./index.html">Home</a></li>
            <li class="nav-item"><a href="./Blog.html">Blog</a></li>
            <li class="nav-item"><a href="./Offers.html">Offers</a></li>
            <li class="nav-item"><a href="./Services.html">Services</a></li>
            <li class="nav-item"><a href="./Contacts.html">Contacts</a></li>
        </ul>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>

    <section>
        <div class="log__container">
            <div class="log__card">
                <h2>Login</h2>
                <form id="loginform">
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required />
                    </div>
                    <div class="form-group">
                        <label for="password">Password:</label>
                        <input type="password" id="password" name="password" required />
                    </div>
                    <!-- An element to toggle between password visibility -->
                     <div class="showPassword">
                    <input type="checkbox"  onclick="myFunction()">Show Password
                     </div>

                    <div class="form-group">
                        <input type="submit" value="Login" />
                    </div>
                </form>
                <div id="error-messages"></div>
            </div>
        </div>
    </section>

    <script>
        const loginform = document.getElementById("loginform");
        const errorMessagesContainer = document.getElementById("error-messages");

        loginform.addEventListener("submit", function (event) {
            event.preventDefault();
            // Clear previous error messages
            errorMessagesContainer.innerHTML = '';

            const emailInput = loginform.querySelector('input[name="email"]');
            const passwordInput = loginform.querySelector('input[name="password"]');
            let hasError = false;

            // Validate email
            if (!isValidEmail(emailInput.value)) {
                displayError("Please enter a valid email address.", emailInput);
                hasError = true;
            }

            // Validate password
            if (!isStrongPassword(passwordInput.value)) {
                displayError(
                    "Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one digit, and one special character.",
                    passwordInput
                );
                hasError = true;
            }

            // If there are no errors, you can submit the form or perform further actions
            if (!hasError) {
                // Proceed with login logic (e.g., sending data to the server)
                alert("Login successful"); // Placeholder for actual login logic
            }
        });

        const isValidEmail = (email) => {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        };

        const isStrongPassword = (password) => {
            const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
            return passwordRegex.test(password);
        };

        const displayError = (message, inputField) => {
            // Create error message element
            const errorElement = document.createElement("p");
            errorElement.classList.add("error");
            errorElement.textContent = message;

            // Append the error message just below the input field's parent container
            inputField.parentElement.appendChild(errorElement);
        };

        const hamburger = document.querySelector(".hamburger");
        const navMenu = document.querySelector(".nav__item");

        hamburger.addEventListener("click", function () {
            hamburger.classList.toggle("active");
            navMenu.classList.toggle("active");
        });



        // show password
        function myFunction() {
  var x = document.getElementById("password");
  if (x.type === "password") {
    x.type = "text";
  } else {
    x.type = "password";
  }
}

    </script>

</body>

</html>